(this.webpackJsonpytterblog=this.webpackJsonpytterblog||[]).push([[0],{54:function(e,t,s){},55:function(e,t,s){},88:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(1),o=s.n(n),c=s(21),i=s.n(c),r=(s(54),s(11)),l=s(12),d=s(14),j=s(13),h=(s(55),s(15)),b=s(10),p=s(7),u=s(89),O=s(90),g=s(91),f=s(92),x=s(93),m=s(94),y=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).toggleNav=a.toggleNav.bind(Object(p.a)(a)),a.state={isNavOpen:!1},a}return Object(l.a)(s,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return Object(a.jsxs)(u.a,{dark:!0,expand:"md",className:"sticky-top",children:[Object(a.jsx)(O.a,{onClick:this.toggleNav}),Object(a.jsx)(g.a,{className:"mr-auto",href:"/",children:Object(a.jsx)("img",{src:"/static/favicon-32x32.png",height:"32",width:"32",alt:"GY"})}),console.log("http://localhost:8000favicon-32x32.png"),Object(a.jsx)(f.a,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(a.jsxs)(x.a,{className:"mr-auto",navbar:!0,children:[Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.c,{className:"nav-link",to:"/home",children:[Object(a.jsx)("span",{className:"fa fa-home fa-lg"})," Home"]})}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.c,{className:"nav-link",to:"/blog",children:[Object(a.jsx)("span",{className:"fa fa-info fa-lg"})," Blog"]})}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.c,{className:"nav-link",to:"/contact",children:[Object(a.jsx)("span",{className:"fa fa-address-book fa-lg"})," Contact"]})}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.c,{className:"nav-link",to:"/about",children:[Object(a.jsx)("span",{className:"fa fa-sitemap fa-lg"})," About"]})})]})})]})}}]),s}(n.Component),v=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"footer footer-text",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("i",{className:"fa fa-copyright"})," Gabriel Ytterberg",Object(a.jsx)("br",{}),Object(a.jsx)("i",{className:"fa fa-envelope-square"})," gytterberg [at] gmail [dot] com",Object(a.jsx)("br",{}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-github",href:"https://github.com/gytterberg",children:Object(a.jsx)("i",{className:"fa fa-github"})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-instagram",href:"https://www.instagram.com/gytterberg/",children:Object(a.jsx)("i",{className:"fa fa-instagram"})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-linkedin",href:"https://www.linkedin.com/in/gabriel-ytterberg-8ab87a14/",children:Object(a.jsx)("i",{className:"fa fa-linkedin"})})," "]})})}}]),s}(n.Component),k=s(95),N=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(k.a,{children:[Object(a.jsx)("h2",{children:"Hello!"}),Object(a.jsx)("p",{children:"This is a demonstration project developed by Gabriel Ytterberg."}),Object(a.jsx)("p",{children:"Gabriel Ytterberg is a software developer with experience in JavaScript, Python, and Java. This site is written in ES6 JavaScript using the React framework, and the back end is written in Python using the Django framework."}),Object(a.jsxs)("p",{children:["The blog page does not use authentication, so anyone can experiment with the features. For more details and code, see the ",Object(a.jsx)(h.b,{to:"/about",children:"About"})," page, or inspect the code at my ",Object(a.jsx)("a",{className:"",href:"https://github.com/gytterberg",children:"GitHub page."})]})]})}}]),s}(n.Component),S=s(27),C=s(106),P=s(107),w=s(108),E=s(109),T=s(104),D=s(99),M=s(105),I="ADD_POST",L="ADD_POSTS",A="EDIT_POST",_="DELETE_POST",F="POSTS_LOADING",J="POSTS_LOADING_FAILED",R="POST_CREATION_FAILED",H="POST_EDIT_FAILED",B="POST_DELETED",G="POST_EDITED",Y="POST_DELETE_FAILED",X=s(18),q=s.n(X),U=function(e){return{type:I,payload:e}},z=function(e){return{type:R,payload:e}},Q=function(e){return{type:G,payload:e}},K=function(e){return{type:H,payload:e}},V=function(e){return{type:B,payload:e}},W=function(e){return{type:Y,payload:e}},Z=function(){return function(e){e($()),q.a.defaults.xsrfCookieName="csrftoken",q.a.defaults.xsrfHeaderName="X-CSRFToken",q.a.get("/api/posts/").then((function(t){return e(ee(t))})).catch((function(t){e(te(t.message)),console.log(t)}))}},$=function(){return{type:F}},ee=function(e){return{type:L,payload:e}},te=function(e){return{type:J,payload:e}},se=s(20),ae=s(96),ne=s(113),oe=s(97),ce=s(98),ie=s(100),re=s(101),le=s(102),de=s(103),je=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={title:"",body:"",user:"gy",id:""},a.handleChange=a.handleChange.bind(Object(p.a)(a)),console.log(JSON.stringify(e)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){"edit"===this.props.type&&this.setState({title:this.props.post.title,body:this.props.post.body,user:this.props.post.user,id:this.props.post.id})}},{key:"handleChange",value:function(e){var t=e.target,s=t.value,a=t.name;this.setState(Object(se.a)({},a,s))}},{key:"render",value:function(){var e=this;return Object(a.jsx)(k.a,{children:Object(a.jsx)(ae.a,{className:"form",onSubmit:this.props.handleSubmit,children:Object(a.jsxs)(ne.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(a.jsx)(oe.a,{toggle:this.props.toggle,children:"create"===this.props.type?"Create Post":"Edit Post"}),Object(a.jsx)(ce.a,{children:Object(a.jsxs)(D.a,{children:[Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"Title"}),Object(a.jsx)(le.a,{type:"text",name:"title",id:"title",placeholder:"Title",value:this.state.title,onChange:function(t){e.handleChange(t)}})]}),Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"Post"}),Object(a.jsx)(le.a,{type:"textarea",name:"body",id:"body",placeholder:"Body",value:this.state.body,onChange:function(t){e.handleChange(t)}})]})]})}),Object(a.jsx)(de.a,{children:Object(a.jsxs)(T.a,{"margin-right":0,"margin-left":0,children:[Object(a.jsx)(D.a,{children:Object(a.jsx)(M.a,{type:"submit",onClick:function(){"create"===e.props.type?e.props.handleSubmit(e.state.title,e.state.body,e.state.user):e.props.handleSubmit(e.state.title,e.state.body,e.state.user,e.state.id)},color:"success",children:"Submit"})}),Object(a.jsx)(D.a,{children:"edit"===this.props.type?Object(a.jsx)(M.a,{type:"submit",onClick:function(){e.props.handleDelete(e.state.id),e.props.history.push("/blog")},children:"Delete"}):null}),Object(a.jsx)(D.a,{children:Object(a.jsx)(M.a,{type:"button",onClick:this.props.toggle,children:"Cancel"})})]})})]})})})}}]),s}(n.Component),he=Object(b.g)(je),be=function(){return Object(a.jsxs)("div",{className:"col-12",children:[Object(a.jsx)("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(a.jsx)("p",{children:"Loading..."})]})},pe=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={createModal:!1,editModal:!1,editPost:{}},"undefined"!=typeof e.match.params.postId&&(a.state.postId=e.match.params.postId),a.handleCreate=a.handleCreate.bind(Object(p.a)(a)),a.toggleCreateModal=a.toggleCreateModal.bind(Object(p.a)(a)),a.toggleEditModal=a.toggleEditModal.bind(Object(p.a)(a)),a.handleEdit=a.handleEdit.bind(Object(p.a)(a)),a.handleDelete=a.handleDelete.bind(Object(p.a)(a)),console.log(JSON.stringify(e)),a.props.fetchPosts(),a}return Object(l.a)(s,[{key:"toggleCreateModal",value:function(){this.setState({createModal:!this.state.createModal}),console.log("In togglecreate, state: ",JSON.stringify(this.state))}},{key:"toggleEditModal",value:function(){this.setState({editModal:!this.state.editModal}),console.log("In toggleEdit, state: ",JSON.stringify(this.state))}},{key:"handleCreate",value:function(e,t,s){this.toggleCreateModal();var a={title:e,body:t,user:s};this.props.submitPost(a)}},{key:"handleEdit",value:function(e,t,s,a){var n={title:e,body:t,user:s,id:a};console.log("In handleEdit, newPost: ",JSON.stringify(n)),this.props.editPost(n),this.toggleEditModal(),this.setState({editPost:{}})}},{key:"handleDelete",value:function(e){console.log("In handleDelete",JSON.stringify(e)),this.props.deletePost(e),this.toggleEditModal(),this.setState({editPost:{}})}},{key:"renderPosts",value:function(){var e=this;if(!0===this.props.posts.isLoading)return Object(a.jsx)(be,{});if(null!==this.props.posts.errMess)return Object(a.jsx)("div",{children:this.props.posts.errMess});if("undefined"==typeof this.state.postId&&Array.isArray(this.props.posts.posts.data)){console.log("How did we get here. Props: ",JSON.stringify(this.props));var t=this.props.posts.posts.data.sort((function(e,t){return e.posted>t.posted?-1:1})).map((function(t){return Object(a.jsx)("div",{children:e.renderPost(t)})}));return Object(a.jsx)(k.a,{children:t})}if("undefined"!=typeof this.state.postId&&this.props.posts.posts!==[]){var s=this.props.posts.posts.data.filter((function(t){return t.id===parseInt(e.state.postId)}))[0];return Object(a.jsx)(k.a,{children:this.renderPost(s)})}console.log("How did we get here. Props: ",JSON.stringify(this.props))}},{key:"renderPost",value:function(e){var t=this;return Object(a.jsxs)(C.a,{className:"postcard",children:[Object(a.jsx)(P.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(w.a,{left:!0,href:"#",children:Object(a.jsx)(w.a,{object:!0,src:"/static/favicon-32x32.png",alt:"placeholder",className:"avatar"})}),Object(a.jsxs)(w.a,{body:!0,children:[Object(a.jsx)(w.a,{heading:!0,children:e.title}),e.body]})]})}),Object(a.jsx)(E.a,{children:Object(a.jsxs)(T.a,{children:[Object(a.jsxs)(D.a,{children:[e.user," --- ",new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0,year:"numeric",month:"short",day:"2-digit"}).format(new Date(Date.parse(e.posted)))]}),Object(a.jsxs)(D.a,{className:"text-right",children:[Object(a.jsx)(M.a,{color:"link",children:Object(a.jsx)(h.c,{to:"/blog/"+e.id,children:"Link"})}),"---",Object(a.jsx)(M.a,{color:"link",onClick:function(){t.setState({editPost:e}),t.toggleEditModal()},children:"Edit"})]})]})})]})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(k.a,{children:[Object(a.jsxs)(T.a,{children:[Object(a.jsx)(D.a,{className:"text-left",children:this.state.postId?Object(a.jsx)(M.a,{color:"link",children:Object(a.jsx)(h.c,{to:"/blog",children:"< Back to all posts"})}):null}),Object(a.jsx)(D.a,{className:"text-right",children:Object(a.jsx)(M.a,{onClick:function(){console.log("Create post button clicked"),e.toggleCreateModal()},color:"primary",children:"Create Post"})}),this.props.isLoading?Object(a.jsx)(be,{className:"text-center"}):this.renderPosts()]}),this.state.createModal?Object(a.jsx)(he,{handleSubmit:this.handleCreate,toggle:this.toggleCreateModal,type:"create"}):null,this.state.editModal?Object(a.jsx)(he,{handleSubmit:this.handleEdit,toggle:this.toggleEditModal,type:"edit",post:this.state.editPost,handleDelete:this.handleDelete}):null]})}}]),s}(n.Component),ue=Object(b.g)(Object(S.b)((function(e){return{posts:e.posts}}),(function(e){return{fetchPosts:function(){e(Z())},submitPost:function(t){e(function(e){return function(t){console.log("Submit: title: ",e.title," body: ",e.body," user: ",e.user),q.a.defaults.xsrfCookieName="csrftoken",q.a.defaults.xsrfHeaderName="X-CSRFToken",q.a.post("/api/posts/",e,{headers:{"Content-Type":"application/json"}}).then((function(s){return t(U(e))})).then((function(){return t(Z())})).catch((function(e){t(z(e.message)),console.log(e)}))}}(t))},editPost:function(t){e(function(e){return function(t){console.log("Edit post: ",JSON.stringify(e)),q.a.defaults.xsrfCookieName="csrftoken",q.a.defaults.xsrfHeaderName="X-CSRFToken",q.a.put("/api/posts/"+e.id+"/",{title:e.title,body:e.body,user:e.user},{headers:{"Content-Type":"application/json"}}).then((function(e){return t(Q(e))})).then((function(){return t(Z())})).catch((function(e){t(K(e.message)),console.log(e)}))}}(t))},deletePost:function(t){e(function(e){return function(t){console.log("Delete: ",e),q.a.defaults.xsrfCookieName="csrftoken",q.a.defaults.xsrfHeaderName="X-CSRFToken",q.a.delete("/api/posts/"+e).then((function(e){return t(V(e))})).then((function(){return t(Z())})).catch((function(e){return t(W(e))}))}}(t))}}}))(pe)),Oe=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:"Contact section: ig, linkedin, github (email with obfuscator?)"})}}]),s}(n.Component),ge=s(110),fe=function(){return Object(a.jsx)(k.a,{className:"jumbo-text ",children:Object(a.jsx)(ge.a,{className:"",style:{backgroundImage:"url(/static/photosquat-cropped.jpg)",backgroundSize:"cover"},children:Object(a.jsxs)("div",{className:"header header-text   offset-6",children:[Object(a.jsx)("h3",{children:"ytterblog"}),Object(a.jsx)("p",{children:"A blog app and portfolio project by Gabriel Ytterberg"})]})})})},xe=s(111),me=s(112),ye=function(){return Object(a.jsxs)(k.a,{children:[Object(a.jsx)("h2",{children:"About this site"}),Object(a.jsxs)(C.a,{className:"col-md-4 card",children:[Object(a.jsx)(xe.a,{className:"",children:"The stack"}),Object(a.jsx)(P.a,{children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{children:"React"}),Object(a.jsx)("dd",{children:"Provides the front end UI."}),Object(a.jsx)("dt",{children:"Redux"}),Object(a.jsx)("dd",{children:"Provides a persistent data store available to various components. Redux Logger tracks state changes and provides import debugging information."}),Object(a.jsx)("dt",{children:"Axios"}),Object(a.jsx)("dd",{children:"Communicates with the back end via REST API."}),Object(a.jsx)("dt",{children:"Django"}),Object(a.jsx)("dd",{children:"Provides the back end REST API and manages the SQL database, while serving the front end and static files."})]})})]}),Object(a.jsxs)(C.a,{children:[Object(a.jsx)(xe.a,{children:"Front end components and routing"}),Object(a.jsx)(me.a,{src:"/static/Main_w_routing.png",style:{width:"686px"}}),Object(a.jsx)(P.a,{children:Object(a.jsxs)("p",{children:["Front end routing is done in Main.js shown here. Each page is its own component, along with the header, footer and jumbotron image. The jumbotron is separate from the header so that the navbar remains sticky at the top, while the jumbotron can be scrolled past. ",Object(a.jsx)("br",{}),'The "/blog/:postId\' and "/blog/edit/:postId" routes pass the ID number of the post in question to the Blog component, so an individual post can be viewed on its own and edited.',Object(a.jsx)("br",{}),"There is another component, PostModal, which handles the modal on the blog page. PostID is passed in through the Blog component, along with a prop indicating if the modal should render as a create post view or an edit post view."]})})]}),Object(a.jsxs)(C.a,{children:[Object(a.jsx)(xe.a,{children:"Back end components and routing"}),Object(a.jsx)(P.a,{children:Object(a.jsx)("p",{children:"The Django back end is set up to serve the front end, as well as manage the database and serve static files."})})]}),Object(a.jsx)(C.a,{children:Object(a.jsx)(xe.a,{children:"Database setup and model"})}),Object(a.jsx)(C.a,{children:Object(a.jsx)(xe.a,{children:"Redux store"})}),Object(a.jsx)(C.a,{children:Object(a.jsx)(xe.a,{children:"Axios accessing the back end API"})})]})},ve=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(y,{}),Object(a.jsx)(fe,{}),Object(a.jsxs)(b.d,{location:e.location,children:[Object(a.jsx)(b.b,{path:"/home",component:N}),Object(a.jsx)(b.b,{exact:!0,path:"/blog",component:Object(b.g)(ue)}),Object(a.jsx)(b.b,{path:"/blog/:postId",component:Object(b.g)(ue)}),Object(a.jsx)(b.b,{path:"/blog/edit/:postId",component:Object(b.g)(ue)}),Object(a.jsx)(b.b,{path:"/contact",component:Oe}),Object(a.jsx)(b.b,{path:"/about",component:ye}),Object(a.jsx)(b.a,{to:"/home"})]}),Object(a.jsx)(v,{})]})},ke=s(23),Ne=s(9),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:null,post:t.payload});case L:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:null,posts:t.payload});case A:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:null,post:t.payload});case _:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:null,posts:[]});case F:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!0,errMess:null,posts:[]});case J:case R:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:t.payload,posts:[]});case H:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:t.payload,post:[]});case B:case G:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:null,post:t.payload});case Y:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!1,errMess:t.payload,post:[]});default:return e}},Ce=s(47),Pe=s.n(Ce),we=s(48),Ee=Object(ke.d)(Object(ke.c)({posts:Se}),Object(ke.a)(we.a,Pe.a)),Te=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(h.a,{children:Object(a.jsx)(S.a,{store:Ee,children:Object(a.jsx)(ve,{})})})})}}]),s}(n.Component),De=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,114)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),o(e),c(e)}))};s(85),s(86),s(87);i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Te,{})}),document.getElementById("root")),De()}},[[88,1,2]]]);
//# sourceMappingURL=main.f631ea70.chunk.js.map